---
import { Image } from '@astrojs/image/components'
import Layout from '../layouts/Layout.astro'
import Hero from '../components/landing/Hero.astro'
import Cards from '../components/landing/Cards.astro'
import GetStarted from '../components/landing/GetStarted.astro'
import '../styles/global.styl'
import bg from '../assets/bg.webp'

const description = "Internet's first Goggles manager."
---

<Layout title="Gearchy" {description}>
  <div class="g-bg fixed top-0 w-full h-[100vh] -z-1">
    <Image src={bg} class="object-cover w-full h-full" />
  </div>
  <Hero />
  <Cards />
  <GetStarted />
</Layout>

<script lang="ts">
  // Blur the .g-bg element on scroll
  const bg = document.querySelector('.g-bg')
  window.addEventListener('scroll', () => {
    if (!bg) return
    bg.style.filter = `blur(${window.scrollY / 100}px)`
  })
</script>
